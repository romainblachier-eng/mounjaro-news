{{ define "main" }}
{{ $beehiiv := .Site.Params.beehiiv_embed_url }}

<!-- â”€â”€ Article Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="article-header">
  <div class="article-header-inner">
    <a href="{{ "/" | relURL }}" class="back-link">â† Retour Â· Back</a>
    <div class="article-label">ğŸ’Š Mounjaro Â· TirzÃ©patide</div>
    <h1>{{ .Title }}</h1>
    <div class="article-meta">
      <span class="meta-chip">ğŸ“… {{ .Date.Format "2 January 2006" }}</span>
      {{ with .Params.source_name }}
      <span class="meta-chip">ğŸ“° {{ . }}</span>
      {{ end }}
      {{ with .Params.source_url }}
      <a href="{{ . }}" target="_blank" rel="noopener noreferrer" class="source-link">ğŸ”— Source originale</a>
      {{ end }}
    </div>
  </div>
</div>

<!-- â”€â”€ Article Body â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="article-body">

  <!-- Pub haut d'article -->
  {{ partial "ad-banner.html" . }}

  <!-- SÃ©lecteur de langue (mobile) -->
  <div class="lang-switcher" id="langSwitcher">
    <button class="lang-btn active" data-lang="fr" onclick="switchLang('fr')">
      ğŸ‡«ğŸ‡· FranÃ§ais
    </button>
    <button class="lang-btn" data-lang="en" onclick="switchLang('en')">
      ğŸ‡¬ğŸ‡§ English
    </button>
  </div>

  <!-- Contenu bilingue cÃ´te Ã  cÃ´te -->
  <div class="bilingual-grid">

    <!-- FRANÃ‡AIS -->
    <div class="lang-block" id="block-fr">
      <div class="lang-header">
        <span class="lang-flag">ğŸ‡«ğŸ‡·</span> Version franÃ§aise
      </div>
      <div class="lang-content">
        {{ with .Params.content_fr }}
          {{ . | markdownify }}
        {{ else }}
          {{ .Content }}
        {{ end }}
      </div>
    </div>

    <!-- ENGLISH -->
    <div class="lang-block" id="block-en">
      <div class="lang-header">
        <span class="lang-flag">ğŸ‡¬ğŸ‡§</span> English version
      </div>
      <div class="lang-content">
        {{ with .Params.content_en }}
          {{ . | markdownify }}
        {{ else }}
          <p><em>English translation not available.</em></p>
        {{ end }}
      </div>
    </div>

  </div>

  <!-- Pub bas d'article -->
  {{ partial "ad-banner.html" . }}

  <!-- Newsletter -->
  <div class="newsletter-section">
    <div class="newsletter-inner">
      <div class="newsletter-icon">ğŸ“¬</div>
      <h3>Recevez l'actu Mounjaro chaque matin</h3>
      <p>
        Abonnez-vous gratuitement â€” rÃ©sumÃ© quotidien FR &amp; EN dans votre boÃ®te mail.
        <em>Subscribe free â€” daily FR &amp; EN digest in your inbox.</em>
      </p>
      {{ if $beehiiv }}
        <iframe src="{{ $beehiiv }}" class="beehiiv-embed" data-test-id="beehiiv-embed"
          frameborder="0" scrolling="no">
        </iframe>
      {{ end }}
    </div>
  </div>

</div>

<script>
function switchLang(lang) {
  const isMobile = window.innerWidth <= 700;
  if (!isMobile) return;

  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.classList.toggle('active', btn.dataset.lang === lang);
  });
  document.getElementById('block-fr').style.display = (lang === 'fr') ? '' : 'none';
  document.getElementById('block-en').style.display = (lang === 'en') ? '' : 'none';
}

// On load: on mobile, hide EN by default
if (window.innerWidth <= 700) {
  document.getElementById('block-en').style.display = 'none';
}
window.addEventListener('resize', function() {
  if (window.innerWidth > 700) {
    document.getElementById('block-fr').style.display = '';
    document.getElementById('block-en').style.display = '';
  }
});
</script>

{{ end }}
